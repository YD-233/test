import{_ as N}from"./index-88aec585.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                    */import{t as H,H as Q,o as U,I as q,J as W,K as X,u as Y}from"./element-61b2a7f7.js";import{H as A,ah as Z,l as n,O as t,P as i,R as z,I as _,m as s,U as k,F as f,a8 as b,aa as F,ac as B,am as K,K as $,p as G,T as x,L as w,r as L,e as O,Q as ee,u as oe,V as ne,S as j}from"./vue-95bbca75.js";const ae={key:2},le={key:2},te={key:1},se=A({__name:"TableColumn",props:{col:{}},emits:["command"],setup(D,{emit:P}){const r=(e,{row:v,$index:g})=>{P("command",e,v,g)};return(e,v)=>{var S;const g=Z("TableColumn",!0),m=H,h=Q,R=U,V=q;return(S=e.col.children)!=null&&S.length?(n(),t(m,{key:0,label:e.col.label,width:e.col.width,align:e.col.align},{header:i(({column:a,$index:l})=>[e.col.headerRender?(n(),t(z(e.col.headerRender),{key:0,column:a,index:l},null,8,["column","index"])):e.col.headerSlot?_(e.$slots,e.col.headerSlot,{key:1,column:a,index:l},void 0,!0):(n(),s("span",ae,k(a.label),1))]),default:i(()=>[(n(!0),s(f,null,b(e.col.children,a=>(n(),t(g,{col:a,key:a.prop},F({_:2},[b(Object.keys(e.$slots),l=>({name:l,fn:i(y=>[_(e.$slots,l,B(K(y)),void 0,!0)])}))]),1032,["col"]))),128))]),_:3},8,["label","width","align"])):(n(),t(m,B(w({key:1},e.col)),{header:i(({column:a,$index:l})=>[e.col.headerRender?(n(),t(z(e.col.headerRender),{key:0,column:a,index:l},null,8,["column","index"])):e.col.headerSlot?_(e.$slots,e.col.headerSlot,{key:1,column:a,index:l},void 0,!0):(n(),s("span",le,k(a.label),1))]),default:i(({row:a,$index:l})=>{var y;return[e.col.type==="image"?(n(),t(h,{key:0,"preview-teleported":"","hide-on-click-modal":!0,"preview-src-list":[a[e.col.prop]],src:a[e.col.prop],fit:"cover",class:"w-9 h-9 rounded-lg"},null,8,["preview-src-list","src"])):e.col.type==="date"?(n(),s(f,{key:1},[e.col.Color?(n(),s("span",{key:0,style:$({color:a[e.col.Color]||""})},k(a[e.col.prop]),5)):(n(),s("span",te,k(a[e.col.prop]),1))],64)):(y=e.col.buttons)!=null&&y.length?(n(),t(V,{key:2},{default:i(()=>[G("div",null,[(n(!0),s(f,null,b(e.col.buttons,(u,E)=>(n(),t(R,{key:E,size:u.size,type:u.type,icon:u.icon,onClick:o=>r(u.command,{row:a,$index:l})},{default:i(()=>[x(k(u.name),1)]),_:2},1032,["size","type","icon","onClick"]))),128))])]),_:2},1024)):e.col.render?(n(),t(z(e.col.render),{key:3,row:a,index:l},null,8,["row","index"])):e.col.slot?_(e.$slots,e.col.slot,{key:4,row:a,index:l},void 0,!0):(n(),s("span",{key:5,style:$({color:e.col.Color?a[e.col.Color]:""})},k(a[e.col.prop]),5))]}),_:3},16))}}});const re=N(se,[["__scopeId","data-v-2233922e"]]),ie={key:0,class:"page-choose"},ce=A({__name:"TablesView",props:{tableData:{},columns:{},options:{}},emits:["selection-change","row-click","cell-click","command","size-change","current-change","pagination-change","sort-change"],setup(D,{expose:P,emit:r}){const e=D,v=L(!0);e.tableData&&setTimeout(()=>{v.value=!1},500);const g=L(),m=O(()=>Object.assign({stripe:!1,tooltipEffect:"dark",showHeader:!0,showPagination:!1},e==null?void 0:e.options)),h=O(()=>Object.assign({total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,100],layout:"total,prev, pager, next,sizes"},m.value.paginationConfig)),R=o=>o+(h.value.currentPage-1)*h.value.pageSize+1,V=o=>{r("size-change",o),r("pagination-change",1,o)},S=o=>{r("current-change",o),r("pagination-change",o,h.value.pageSize)},a=(o,d,c)=>{r("command",o,d,c)},l=o=>{r("selection-change",o)},y=(o,d,c)=>{r("row-click",o,d,c)},u=(o,d,c,I)=>{r("cell-click",o,d,c,I)},E=({column:o,prop:d,order:c})=>{r("sort-change",{column:o,prop:d,order:c})};return P({element:g}),(o,d)=>{const c=H,I=W,J=X;return n(),s("div",null,[G("div",null,[ee((n(),t(oe(Y),w({ref_key:"tableRef",ref:g,data:o.tableData,"element-loading-text":"Loading..."},m.value,{onSelectionChange:l,onRowClick:y,onCellClick:u,onSortChange:E}),{default:i(()=>[(n(!0),s(f,null,b(o.columns,(p,M)=>(n(),s(f,{key:M},[p.type==="index"||p.type==="selection"||p.type==="expand"?(n(),t(c,w({key:0,index:R},p),{default:i(({row:C,$index:T})=>[p.render?(n(),t(z(p.render),{key:0,row:C,index:T},null,8,["row","index"])):p.slot?_(o.$slots,"expand",{key:1,row:C,index:T},void 0,!0):j("",!0)]),_:2},1040)):(n(),t(re,{key:1,col:p,onCommand:a},F({_:2},[b(Object.keys(o.$slots),C=>({name:C,fn:i(T=>[_(o.$slots,C,B(K(T)),void 0,!0)])}))]),1032,["col"]))],64))),128))]),_:3},16,["data"])),[[J,v.value]])]),m.value.showPagination?(n(),s("div",ie,[ne(I,w({background:""},h.value,{onSizeChange:V,onCurrentChange:S}),null,16)])):j("",!0)])}}});const ke=N(ce,[["__scopeId","data-v-8b9388a0"]]);export{ke as T};
